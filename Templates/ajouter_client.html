<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ajouter un client</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      background-color: #fff9f2;
      padding: 30px;
    }

    .form-container {
      max-width: 650px;
      margin: 0 auto;
      background-color: white;
      padding: 40px 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(255, 165, 0, 0.1);
      transition: all 0.3s ease;
    }

    .btn-orange {
      background-color: #ff7f0e;
      color: white;
      border: none;
      transition: background-color 0.2s ease;
    }

    .btn-orange:hover {
      background-color: #e66900;
    }

    h2 {
      color: #ff7f0e;
      text-align: center;
      margin-bottom: 35px;
    }

    .form-label {
      font-weight: 500;
    }
  </style>
</head>
<body>

<a href="{{ url_for('index') }}" class="btn btn-outline-warning mb-4">
  <i class="bi bi-arrow-left"></i> Retour à l'accueil
</a>

<div class="form-container">
  <h2><i class="bi bi-person-plus-fill"></i> Ajouter un client</h2>

  <form id="formClient" method="POST" action="/ajouter-client" novalidate>
    <div class="mb-3">
      <label for="nom_societe" class="form-label">Nom de la société <span class="text-danger">*</span></label>
      <input type="text" class="form-control" id="nom_societe" name="nom_societe" required>
      <div class="invalid-feedback">Ce champ est requis !</div>
    </div>

    <div class="mb-3">
      <label for="ice" class="form-label">ICE <span class="text-danger">*</span></label>
      <input type="text" class="form-control" id="ice" name="ice" required>
      <div class="invalid-feedback">Ce champ est requis !</div>
    </div>

    <div class="mb-3">
      <label for="adresse" class="form-label">Adresse <span class="text-danger">*</span></label>
      <textarea class="form-control" id="adresse" name="adresse" rows="3" required></textarea>
      <div class="invalid-feedback">Ce champ est requis !</div>
    </div>

    <div class="mb-3">
      <label for="telephone" class="form-label">Téléphone <span class="text-danger">*</span></label>
      <input type="tel" class="form-control" id="telephone" name="telephone" pattern="212[0-9]{9}" title="Entrez un numéro valide commençant par 212 suivi de 9 chiffres" required>
      <div class="invalid-feedback">Veuillez entrer un numéro valide (ex: 212600123456)</div>
    </div>

    <div class="mb-4">
      <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
      <input type="email" class="form-control" id="email" name="email" required>
      <div class="invalid-feedback">Veuillez entrer une adresse email valide</div>
    </div>
    <div class="mb-4">
      <label for="periode" class="form-label">Période Échéance <span class="text-danger">*</span></label>
      <select name="periode_echeance" class="form-select" required>
        <option value="">-- Choisir --</option>
        <option value="30">30 jours</option>
        <option value="60">60 jours</option>
        <option value="90">90 jours</option>
        <option value="120">120 jours</option>
      </select>
      <div class="invalid-feedback">Veuillez entrer une période valide</div>
    </div>

    <div class="d-grid">
      <button type="submit" class="btn btn-orange btn-lg">
        <i class="bi bi-plus-circle"></i> Ajouter le client
      </button>
    </div>
  </form>
</div>


<script>
  // Bootstrap custom validation
  (() => {
    'use strict';
    const form = document.getElementById('formClient');

    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault();  // Empêche l'envoi
        event.stopPropagation();
      }
      form.classList.add('was-validated');
    }, false);
  })();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
